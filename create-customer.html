<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Create Customer</title>
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css"
      rel="stylesheet"
    />
    <link
      href="https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap"
    />
    <link rel="stylesheet" href="create.css" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="sidebar">
      <div class="logo-details">
        <i class="ri-scissors-line"></i>
        <span class="logo_name">TAYLUR</span>
      </div>
      <ul class="nav-links">
        <li>
          <a href="dashboard.html">
            <i class="bx bx-grid-alt"></i>
            <span class="link_name">Dashboard</span>
          </a>
        </li>
        <li>
          <div class="iocn-link">
            <a href="index1.html">
              <i class="bx bx-collection"></i>
              <span class="link_name">Customers</span>
            </a>
    
          </div>
        
        </li>
        <li>
          <a href="measurements.html">
            <i class="bx bx-pie-chart-alt-2"></i>
            <span class="link_name">Measurements</span>
          </a>
        </li>
        <li>
          <a href="appointments.html">
            <i class="bx bx-line-chart"></i>
            <span class="link_name">Appointment</span>
          </a>
        </li>
        <li>
          <a href="#">
            <i class="bx bx-history"></i>
            <span class="link_name">Projects</span>
          </a>
        </li>
        <li>
          <a href="#">
            <i class="bx bx-cog"></i>
            <span class="link_name">Settings</span>
          </a>
          <ul class="sub-menu blank">
            <li><a class="link_name" href="#">Settings</a></li>
          </ul>
        </li>
        <li>
          <div class="profile-details">
            <div class="profile-content"></div>
            <div class="name-job">
              <div class="profile_name">Boluwatife</div>
              <div class="job">Fashion Designer</div>
            </div>
            <i class="bx bx-log-out"></i>
          </div>
        </li>
      </ul>
    </div>
    <section class="home-section">
      <div class="home-content">
        <i class="bx bx-menu"></i>
      </div>

      <div class="container-above above">
        <button id="individualButton">Individual</button>
        <button id="familyButton">Family</button>
      </div>

      <div class="individualx">
        <h2 class="individual-header">Individual Registration</h2>
        <form action="../Fashion-Design/BackEnd/src/controllers/clients/registerClients.php" method="post">
          <label for="fullName">Full Name</label>
          <input
            class="input-select"
            type="text"
            id="fullName"
            name="fullname"
            required
          />

          <label for="phoneNumber">Phone Number</label>
          <input
            class="input-select"
            type="tel"
            id="phoneNumber"
            name="phonenumber"
            required
          />

          <label for="gender">Gender</label>
          <select
            class="input-select"
            id="gender"
            name="gender"
            required
          >
            <option value="">Select Gender</option>
            <option value="male">Male</option>
            <option value="female">Female</option>
          </select>

          <label for="address">Address</label>
          <textarea id="address" name="address" rows="4" required></textarea>

          <button class="submit-btn" type="submit">Submit</button>
        </form>
      </div>

      <div class="familyx" style="display: none">
        <h2 class="family-header">Family Account Registration</h2>
        <form id="familyForm">
          <label for="familyName">Family Name</label>
          <input
            class="input-select"
            type="text"
            id="familyName"
            name="familyname"
            required
          />

          <div id="familyMembers">
            <label>Family Members</label><br />
            <select name="individual-customers" class="input-select" id="" multiple>
              <option value="">Select Existing Customer</option>
            </select>
            <div id="memberFields"></div>
            <button type="button" onclick="addFamilyMember()">
              Add Family Member</button
            ><br />
          </div>
          <br />

          <button class="submit-btn" type="submit">Submit</button>
        </form>
      </div>
    </section>
    <script>
   
      let sidebar = document.querySelector(".sidebar");
      let sidebarBtn = document.querySelector(".bx-menu");
      console.log(sidebarBtn);
      sidebarBtn.addEventListener("click", () => {
        sidebar.classList.toggle("close");
      });

      document
        .getElementById("individualButton")
        .addEventListener("click", function () {
          document.querySelector(".individualx").style.display = "block";
          document.querySelector(".familyx").style.display = "none";
        });

      document
        .getElementById("familyButton")
        .addEventListener("click", function () {
          document.querySelector(".individualx").style.display = "none";
          document.querySelector(".familyx").style.display = "block";
        });

      var memberCount = 0; // Initialize member count  

      function addFamilyMember() {
        memberCount++; // Increment member count
        var memberFields = document.getElementById("memberFields");

        // Create a container div for each family member
        var memberContainer = document.createElement("div");
        memberContainer.classList.add("member-container");

        // Create a label for the member count
        var countLabel = document.createElement("label");
        countLabel.classList.add("member-count");
        countLabel.textContent = "Member " + memberCount;

        // Create input field for full name
        var fullNameLabel = document.createElement("label");
        fullNameLabel.textContent = "Full Name";
        var fullNameInput = document.createElement("input");
        fullNameInput.type = "text";
        fullNameInput.name = "fullname[]";
        fullNameInput.classList.add("input-select");
        fullNameInput.required = true;

        // Create input field for phone number
        var phoneNumberLabel = document.createElement("label");
        phoneNumberLabel.textContent = "Phone Number";
        var phoneNumberInput = document.createElement("input");
        phoneNumberInput.type = "tel";
        phoneNumberInput.name = "phonenumber[]";
        // phoneNumberInput.pattern = "[0-9]{3}-[0-9]{3}-[0-9]{4}";
        phoneNumberInput.placeholder = "Format: 123-456-7890";
        phoneNumberInput.classList.add("input-select");
        phoneNumberInput.required = true;

        // Create select field for gender
        var genderLabel = document.createElement("label");
        genderLabel.textContent = "Gender";
        var genderSelect = document.createElement("select");
        genderSelect.name = "gender[]";
        genderSelect.classList.add("input-select");
        genderSelect.required = true;
        var genderOptions = ["Select Gender", "Male", "Female"];
        genderOptions.forEach(function (optionText) {
          var option = document.createElement("option");
          option.value = optionText.toLowerCase();
          option.textContent = optionText;
          genderSelect.appendChild(option);
        });

        // Create textarea for address
        var addressLabel = document.createElement("label");
        addressLabel.textContent = "Address";
        var addressTextarea = document.createElement("textarea");
        addressTextarea.name = "address[]";
        addressTextarea.rows = "4";
        addressTextarea.classList.add("input-select");
        addressTextarea.required = true;

        // Create remove button for the family member
        var removeButton = document.createElement("button");
        removeButton.type = "button";
        removeButton.textContent = "Remove";
        removeButton.classList.add("remove-btn");
        removeButton.onclick = function () {
          memberFields.removeChild(memberContainer);
        };

        var dashedLine = document.createElement("div");
        dashedLine.classList.add("dash-line");
        dashedLine.textContent = "_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _";


        // Append all elements to the member container
        memberContainer.appendChild(countLabel);
        memberContainer.appendChild(fullNameLabel);
        memberContainer.appendChild(fullNameInput);
        memberContainer.appendChild(phoneNumberLabel);
        memberContainer.appendChild(phoneNumberInput);
        memberContainer.appendChild(genderLabel);
        memberContainer.appendChild(genderSelect);
        memberContainer.appendChild(addressLabel);
        memberContainer.appendChild(addressTextarea);
        memberContainer.appendChild(removeButton);
        memberContainer.appendChild(dashedLine);

        // Remove the remove button from its current position
          memberContainer.removeChild(removeButton);

          // Append the remove button to the bottom of the container
          memberContainer.appendChild(removeButton);

          memberContainer.removeChild(dashedLine);

          memberContainer.appendChild(dashedLine);


        // Append the member container to the member fields
        memberFields.appendChild(memberContainer);
      }

      function removeFamilyMember(button) {
        var memberContainer = button.parentNode;
        memberContainer.parentNode.removeChild(memberContainer);
      }

    </script>
  </body>
</html>
